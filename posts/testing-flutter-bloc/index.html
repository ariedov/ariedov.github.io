<!doctype html><html dir=ltr lang=en data-theme class="html theme--light"><head><meta charset=utf-8><title>David Leibovych
|
Testing Flutter Bloc
</title><meta name=generator content="Hugo 0.139.4"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="David Leibovych"><meta name=description content="My name is David
Solving problems with code
"><link rel=stylesheet href=/scss/main.min.8d4fad7e6916ad2e291e8d97ada157c70350d6d7150fea137e7243340967befb.css integrity="sha256-jU+tfmkWrS4pHo2XraFXxwNQ1tcVD+oTfnJDNAlnvvs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.73ccfdf28df555e11009c13c20ced067af3cb021504cba43644c705930428b00.css integrity="sha256-c8z98o31VeEQCcE8IM7QZ688sCFQTLpDZExwWTBCiwA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.137b1cf3cea9a8adb7884343a9a5ddddf4280f59153f74dc782fb7f7bf0d0519.css integrity="sha256-E3sc886pqK23iENDqaXd3fQoD1kVP3TceC+3978NBRk=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.e65dc5b48fb5f39b142360c57c3a215744c94e56c755c929cc3e88fe12aab4d3.css integrity="sha256-5l3FtI+185sUI2DFfDohV0TJTlbHVckpzD6I/hKqtNM=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.6f4f16d58da1c82c0c3a3436e021a3d39b4742f741192c546e73e947eacfd92f.css integrity="sha256-b08W1Y2hyCwMOjQ24CGj05tHQvdBGSxUbnPpR+rP2S8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.e10425ad768bc98ff1fb272a0ac8420f9d1ba22f0612c08ff1010c95080ffe7e.css integrity="sha256-4QQlrXaLyY/x+ycqCshCD50boi8GEsCP8QEMlQgP/n4=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=https://www.dleibovych.com/posts/testing-flutter-bloc/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Testing Flutter Bloc"><meta name=twitter:description content="I try to indroduce tests even to my side projects, just because tests fundamentally save time and make you think more about the project architecture.
So of course while using the famous flutter_bloc library for my projects I wanted a nice way to test it. I was very pleasantly surprised when I discovered that the library provides a very nice and elegant way to test the bloc via bloc_test.
First of all, add it to your dev dependencies:"><meta property="og:url" content="https://www.dleibovych.com/posts/testing-flutter-bloc/"><meta property="og:site_name" content="David Leibovych"><meta property="og:title" content="Testing Flutter Bloc"><meta property="og:description" content="I try to indroduce tests even to my side projects, just because tests fundamentally save time and make you think more about the project architecture.
So of course while using the famous flutter_bloc library for my projects I wanted a nice way to test it. I was very pleasantly surprised when I discovered that the library provides a very nice and elegant way to test the bloc via bloc_test.
First of all, add it to your dev dependencies:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-11T23:02:30+02:00"><meta property="article:modified_time" content="2021-12-11T23:02:30+02:00"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Testing Flutter Bloc","headline":"Testing Flutter Bloc","alternativeHeadline":"","description":"
      
        \u003cp\u003eI try to indroduce tests even to my side projects, just because tests fundamentally save time and make you think more about the project architecture.\u003c\/p\u003e\n\u003cp\u003eSo of course while using the famous \u003ca href=\u0022https:\/\/pub.dev\/packages\/flutter_bloc\u0022\u003eflutter_bloc\u003c\/a\u003e library for my projects I wanted a nice way to test it. I was very pleasantly surprised when I discovered that the library provides a very nice and elegant way to test the bloc via \u003ca href=\u0022https:\/\/pub.dev\/packages\/bloc_test\u0022\u003ebloc_test\u003c\/a\u003e.\u003c\/p\u003e\n\u003cp\u003eFirst of all, add it to your dev dependencies:\u003c\/p\u003e


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.dleibovych.com\/posts\/testing-flutter-bloc\/"},"author":{"@type":"Person","name":"David Leibovych"},"creator":{"@type":"Person","name":"David Leibovych"},"accountablePerson":{"@type":"Person","name":"David Leibovych"},"copyrightHolder":{"@type":"Person","name":"David Leibovych"},"copyrightYear":"2021","dateCreated":"2021-12-11T23:02:30.00Z","datePublished":"2021-12-11T23:02:30.00Z","dateModified":"2021-12-11T23:02:30.00Z","publisher":{"@type":"Organization","name":"David Leibovych","url":"https://www.dleibovych.com/","logo":{"@type":"ImageObject","url":"https:\/\/www.dleibovych.com\/favicons\/favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"https:\/\/www.dleibovych.com\/posts\/testing-flutter-bloc\/","wordCount":"195","genre":[],"keywords":[]}</script></head><body class=body><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
."><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/images/small_avatar.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/>David Leibovych</a></div><div class=sidebar__introduction-description><p>My name is David<br>Solving problems with code<br></p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://github.com/ariedov/ target=_blank rel="noopener me" aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://www.linkedin.com/in/david-leibovych-11587428/ target=_blank rel="noopener me" aria-label=linkedin title=linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
David Leibovych
2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></div></aside><main class=wrapper__main><header class=header><div class=.><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Home</a></li><li class=nav__list-item><a href=/posts/ title>Posts</a></li><li class=nav__list-item><a href=/about/ title>About</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
."><div class=post__content><h1>Testing Flutter Bloc</h1><p>I try to indroduce tests even to my side projects, just because tests fundamentally save time and make you think more about the project architecture.</p><p>So of course while using the famous <a href=https://pub.dev/packages/flutter_bloc>flutter_bloc</a> library for my projects I wanted a nice way to test it. I was very pleasantly surprised when I discovered that the library provides a very nice and elegant way to test the bloc via <a href=https://pub.dev/packages/bloc_test>bloc_test</a>.</p><p>First of all, add it to your dev dependencies:</p><pre tabindex=0><code>dev_dependencies:
  bloc_test: ^9.0.1
</code></pre><p>Then use <code>blocTest</code> instead of <code>test</code>. The function itself has everything that&rsquo;s required for pleasant testing.</p><p>The main ones being:</p><p><code>build</code> - is the builder function to actually provide the BLoC.</p><p><code>act</code> - add events to the bloc.</p><p><code>expect</code> - make sure the bloc emits the right states.</p><p>Other helpful functions are also:</p><p><code>setUp</code> - nice for initializing your data or mocking.</p><p><code>verify</code> - if you want to check not just the states the bloc emits, but also if the flow is right.</p><p>A blocTest would like something like this:</p><pre tabindex=0><code>blocTest&lt;SelectedProficienciesBloc, SelectedProficienciesState&gt;(
  &#39;initial state when loading data&#39;,
  build: () =&gt; SelectedProficienciesBloc(),
  act: (bloc) =&gt; bloc.add(LoadSkills()),
  expect: () =&gt; &lt;SelectedProficienciesState&gt;[
    LoadedSelectedProficienciesState(),
  ],
);
</code></pre><p>Happy testing!</p></div><div class=post__footer></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
David Leibovych
2024</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ=" crossorigin=anonymous></script></body></html>